!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return s}));var i=n(0),r=n.n(i),a=n(1),o=n.n(a),s=function(){function t(e,n){r()(this,t),this.$=n,this.settings=e,this.id=e.container.attr("id"),this.container=e.container,this.layout=this.container.attr("data-layout"),this.timestamp=!1,this._timeInterval="",this.initCountdown()}return o()(t,[{key:"convertIsoToStandard",value:function(t){var e=t.split("T");if("undefined"===e[1]||null!==t.match(/\s/g))return t;var n=e[0].split("-");return new Date("".concat(n[1],"/").concat(n[2],"/").concat(n[0]," ").concat(e[1]))}},{key:"getTimeRemaining",value:function(t){var e=Date.parse(t)-Date.parse(new Date),n=Math.floor(e/1e3%60),i=Math.floor(e/1e3/60%60),r=Math.floor(e/36e5%24),a=Math.floor(e/864e5);return 0===this.dateWrapper.length&&0===this.hoursWrapper.length?i+=60*(r+=24*a):0===this.dateWrapper.length?r+=24*a:0===this.hoursWrapper.length&&(i+=60*r),{total:e,days:a<10?"0"+a:a,hours:r<100?("0"+r).slice(-2):r,minutes:i<100?("0"+i).slice(-2):i,seconds:("0"+n).slice(-2)}}},{key:"setTimeRemaining",value:function(){var t=this.getTimeRemaining(this.timestamp),e={days:this.dateWrapper,hours:this.hoursWrapper,minutes:this.minutesWrapper,seconds:this.secondsWrapper},n={days:this.dateLabel,hours:this.hoursLabel,minutes:this.minutesLabel,seconds:this.secondsLabel};t.total<=0?(clearInterval(this._timeInterval),this.$.each(e,(function(t,e){e.length>0&&(e.find(".ib-countdown-unit-number").html("00"),e.find(".ib-number").hide())})),this.resetCountdown(),this.container.find(".ib-countdown-msg").show(),JSON.parse(this.hide)&&this.container.find(".ib-countdown-time").hide()):(this.$.each(e,(function(e,i){if(i.length>0){i.find(".ib-countdown-unit-number").html(t[e]);var r=i.find(".ib-countdown-unit-label"),a=1!=parseInt(t[e])?n[e].plural:n[e].singular;r.html(a),i.find(".ib-number").show()}})),this.container.find(".ib-countdown-msg").hide(),this.container.find(".ib-countdown-time").show())}},{key:"setCircleCount",value:function(){var t=this.getTimeRemaining(this.timestamp),e={days:365,hours:24,minutes:60,seconds:60},n={days:this.dateWrapper.find("svg"),hours:this.hoursWrapper.find("svg"),minutes:this.minutesWrapper.find("svg"),seconds:this.secondsWrapper.find("svg")};this.$.each(n,(function(n,i){if(i.length>0){var r=i.find(".ib-number"),a=r.attr("r"),o=Math.PI*(2*a),s=(1-t[n]/e[n])*o;r.css({strokeDashoffset:s})}}))}},{key:"fixCircleAttrs",value:function(){if(0!==this.wrapper.find("circle").length){var t=this;this.wrapper.find("circle").each((function(){var e=t.$(this).attr("strokedasharray"),n=t.$(this).attr("strokedashoffset");void 0!==e&&t.$(this).removeAttr("strokedasharray").attr("stroke-dasharray",e),void 0!==n&&t.$(this).removeAttr("strokedashoffset").attr("stroke-dashoffset",n)}))}}},{key:"resetCountdown",value:function(){this.initElements();var t={days:this.dateWrapper,hours:this.hoursWrapper,minutes:this.minutesWrapper,seconds:this.secondsWrapper};clearInterval(this._timeInterval),this.$.each(t,(function(t,e){e.length>0&&e.find(".ib-countdown-unit-number").html("00")})),"undefined"!=typeof ibCountdown&&void 0!==ibCountdown[this.id]&&void 0!==ibCountdown[this.id].interval&&clearInterval(ibCountdown[this.id].interval)}},{key:"initElements",value:function(){this.wrapper=this.container.find(".ib-countdown"),this.dateWrapper=this.container.find(".ib-countdown-days"),this.dateLabel=this.dateWrapper.find(".ib-countdown-unit-label").data("label"),this.hoursWrapper=this.container.find(".ib-countdown-hours"),this.hoursLabel=this.hoursWrapper.find(".ib-countdown-unit-label").data("label"),this.minutesWrapper=this.container.find(".ib-countdown-minutes"),this.minutesLabel=this.minutesWrapper.find(".ib-countdown-unit-label").data("label"),this.secondsWrapper=this.container.find(".ib-countdown-seconds"),this.secondsLabel=this.secondsWrapper.find(".ib-countdown-unit-label").data("label"),this.layout=this.container.attr("data-layout"),this.hide=this.container.attr("data-hide")}},{key:"initTimestamp",value:function(){this.timestamp=this.container.attr("data-time"),this.timestamp&&void 0!==this.timestamp?this.timestamp=this.convertIsoToStandard(this.timestamp):this.timestamp=new Date((new Date).getTime()+864e5)}},{key:"initCountdown",value:function(){this.initElements();var t=this;if(0!==this.wrapper.length){this.resetCountdown(),this.initTimestamp(),this.fixCircleAttrs(),this.setTimeRemaining(),"circle"==this.layout&&this.setCircleCount();var e=this.container.attr("id")||(new Date).getTime(),n=window.ibCountdown||{};void 0===n[e]&&(n[e]={}),void 0!==n[e].interval&&clearInterval(n[e].interval),n[e].interval=setInterval((function(){t.setTimeRemaining(),"circle"==t.layout&&t.setCircleCount()}),1e3)}}}]),t}();!function(t){window.ibCountdown=window.ibCountdown||{};var e=function(){t(".ib-block-countdown").each((function(){var e=t(this).attr("id");window.ibCountdown[e]={},window.ibCountdown[e].instance=new s({container:t(this)},t)}))};window.ibCountdown._init=e,void 0!==wp.domReady?wp.domReady(e):t(document).ready(e)}(jQuery)}]);